# Правила для Cursor AI

## Деплой на сервер
Когда пользователь упоминает "деплой", "deploy", "опубликовать", "публикация", "выложить на сервер" или похожие фразы, необходимо автоматически выполнить скрипт деплоя:

1. Выполнить PowerShell скрипт `deploy-simple.ps1` из корня проекта
2. Скрипт автоматически:
   - Соберет Docker образ
   - Сохранит его в tar файл
   - Скопирует на сервер (devops@10.123.48.62)
   - Обновит контейнер на сервере

Команда для выполнения:
```powershell
.\deploy-simple.ps1
```

Не нужно спрашивать подтверждение - просто выполнить скрипт при упоминании деплоя.

## Запуск сервисов
Когда пользователь просит запустить сервис (фронтенд, бэкенд или оба), необходимо автоматически:

1. **Проверить и остановить локальные процессы:**
   - Проверить наличие запущенных Java процессов (для бэкенда)
   - Проверить наличие запущенных Node.js процессов (для фронтенда)
   - Остановить найденные процессы перед запуском

2. **Проверить и остановить Docker контейнеры:**
   - Проверить статус контейнеров через `docker compose ps`
   - Остановить и удалить существующие контейнеры через `docker compose stop` и `docker compose rm -f`
   - Это нужно делать для всех сервисов (frontend, backend, postgres)

3. **Запустить сервисы:**
   - После очистки запустить нужные сервисы через `docker compose up -d` или локально, в зависимости от запроса пользователя

Примеры фраз, которые должны триггерить это правило:
- "запусти сервис"
- "запусти бэкенд"
- "запусти фронтенд"
- "запусти локально"
- "запусти в докере"
- "перезапусти сервис"
- "перезапусти бэкенд"
- и похожие запросы

Не нужно спрашивать подтверждение - автоматически проверять и останавливать существующие процессы/контейнеры перед запуском.

## Создание скриптов
НЕ создавать скрипты (shell, PowerShell, bash и т.д.) автоматически, если пользователь явно не запросил создание скрипта. Создавать скрипты только когда пользователь явно просит:
- "создай скрипт"
- "напиши скрипт"
- "сделай скрипт"
- "автоматизируй через скрипт"
- или похожие явные запросы

Если задача может быть решена без скрипта (например, через прямые команды или изменения в коде), не предлагать и не создавать скрипты.

## Документация
Всю документацию (README.md, инструкции, руководства, API документацию и т.д.) необходимо хранить в папке `docs` в корне проекта. 

- README файлы для отдельных модулей (например, `backend/README.md`, `frontend/README.md`) можно оставлять в соответствующих папках
- Общую документацию проекта, инструкции по развертыванию, архитектурные решения и другую проектную документацию размещать в `docs/`
- При создании новой документации предлагать размещение в `docs/`, если это не специфичный README для модуля

